<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <style>
  html, body {
    font-size: 40px;
    font-family: Helvetica, Sans-Serif;
  }

  input {
    font-size: 40px;
    width: 300px;
    height: 80px;
    padding: 10px;
  }

  span {
    font-size: 16px;
    margin-left: 10px;
  }
  </style>
</head>
<body>
  <p><input id="x" placeholder="買入">塊 <input type="number" id="xn" value="1">張</p>
  <p><input id="y" placeholder="賣出">塊 <input type="number" id="yn" value="1">張</p>
  <p><input id="z" placeholder="預設 1.68折">折
  <p id="s"></p>
<script charset="UTF-8">
document.addEventListener("DOMContentLoaded", () => {
  const x = document.getElementById('x');
  const xn = document.getElementById('xn');
  const y = document.getElementById('y');
  const yn = document.getElementById('yn');
  const z = document.getElementById('z');
  const s = document.getElementById('s');

  setInterval(() => {
    const a = Number(x.value);
    const an = Number(xn.value);
    const b = Number(y.value);
    const bn = Number(yn.value);
    const c = Number(z.value);
    const d = (c || 1.68);
      
    if (isNaN(a) || isNaN(b) || isNaN(c) || a === 0 || b === 0) return s.innerHTML = '再來一次';

    const aa = (a * 1000 + a * 0.1425 * d) * an;
    const bb = (b * 999 - b * 0.1425 * d) * bn;

    s.innerHTML = `
    賺 ${(bb - aa).toFixed(2)} 元 
    <br>
    <span>0050 允贏</span>
    <br><br>
    <br>

    買花了 ${aa.toFixed(2)} 元 <br>
      <span> (${a} * 1000 + ${a} * 1000 * 0.001425 * ${d} * 0.1) * ${an} </span>
    <br><br>
    賣拿回 ${bb.toFixed(2)} 元 <br>
      <span> (${b} * 1000 - ${b} * 1000 * 0.001425 * ${d} * 0.1 - ${b} * 1000 * 0.001) * ${bn} </span>
    <br><br>
    `;
  }, 1000);
});
</script>
</body>
</html>

