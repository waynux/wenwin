<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
  input {
    font-size: 40px;
    width: 250px;
    padding: 25px;
  }
  a {
    font-size: 16px;
    margin-left: 10px;
  }
  </style>
</head>
<body style="font-size: 40px;font-family: Helvetica, Sans-Serif;">
  <p><input id="b" placeholder="買入" value="1" autofocus>塊 <input type="number" id="n" value="3">張</p>
  <p><input id="s" placeholder="賣出" value="1">塊</p>
  <p><input id="d" placeholder="預設 1.68折">折</p>
  <p id="r"></p>
<script>
window.onload = setInterval(() => {
  const find = document.getElementById.bind(document);
  const get = e => Number(find(e).value);
  const b = get('b');
  const s = get('s');
  const d = get('d') || 1.68;
  const n = get('n');

  const x = (b * 1000 + b * 0.1425 * d) * n;
  const y = (s * 999 - s * 0.1425 * d) * n;
  find('r').innerHTML = isNaN(y - x) ? '再來一次':`
    賺 ${(y - x).toFixed(2)} 元
      <a>0050 允贏</a><br>
    買 ${x.toFixed(2)} 元
      <a>(${b}*1000 + ${b}*1000*0.001425*${d}*0.1)*${n}</a><br>
    賣 ${y.toFixed(2)} 元
      <a>(${s}*1000 - ${s}*1000*0.001425*${d}*0.1 - ${s}*1000*0.001)*${n}</a>`;
}, 1000);
</script>
</body>
</html>
